!function(e){var t=window.webpackJsonp;window.webpackJsonp=function(n,a,i){for(var s,c,l,u=0,p=[];u<n.length;u++)c=n[u],r[c]&&p.push(r[c][0]),r[c]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(t&&t(n,a,i);p.length;)p.shift()();if(i)for(u=0;u<i.length;u++)l=o(o.s=i[u]);return l};var n={},r={100:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=r[e];if(0===t)return new Promise(function(e){e()});if(t)return t[2];var n=new Promise(function(n,o){t=r[e]=[n,o]});t[2]=n;var a=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.timeout=12e4,o.nc&&i.setAttribute("nonce",o.nc),i.src=o.p+"async_chunk/"+e+"."+{0:"fe5e4b8",1:"0dfb0aa",2:"2177df4",3:"819e0e3",4:"8d87d1c",5:"4016f15"}[e]+".es5.min.js";var s=setTimeout(c,12e4);function c(){i.onerror=i.onload=null,clearTimeout(s);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}return i.onerror=i.onload=c,a.appendChild(i),n},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//shadow.elemecdn.com/faas/h5/",o.oe=function(e){throw console.error(e),e},o(o.s=1372)}({1372:function(e,t,n){e.exports=n(1373)},1373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1374),o=(n.n(r),n(1375)),a=(n.n(o),n(1376)),i=(n.n(a),n(1377)),s=(n.n(i),n(1378)),c=(n.n(s),n(1379)),l=(n.n(c),n(1380)),u=(n.n(l),n(1381)),p=(n.n(u),n(1382)),f=(n.n(p),n(575)),d=n.n(f),h=n(1383),g=n.n(h),m=n(161),b=n.n(m),v=(n(1386),n(1398)),y=n(1400),_=n(2),w=n(582);n.d(t,"geohash",function(){return d.a}),window.Geohash=d.a,window.UParams=g.a,window.Utils=b.a,_.h.isEleme&&window.hybridAPI&&(b.a.getGeohash().then(e=>_.j.setLocation(e)).catch(()=>{}),hybridAPI.setBounces(!1));const S=UParams();S.from&&(_.h.isAlipay?y.a.init():localStorage.setItem("SUB_CHANNEL",S.from)),(_.h.isXiaomi||"miapp"===S.source)&&Object(v.a)(),_.h.isAlipay&&(Object(w.a)(),document.addEventListener("DOMContentLoaded",()=>{y.a.checkNewUser(),window.FastClick&&window.FastClick.attach(document.body)})),(()=>{if(!/iPhone/i.test(window.navigator.userAgent))return!1;const e=window.screen||{};return 812===e.height&&375===e.width})()&&document.body.classList.add("iPhoneXMode"),"Perf"in window&&_.h.isEleme&&_.h.isAndroid&&(localStorage.getItem("DETECTED_UA")||(Perf.count({id:"U4_2.0",value:_.h.isUC?"1":"0"}),localStorage.setItem("DETECTED_UA",1))),"ucweb"in window&&"Perf"in window&&window.ucweb.window.addEventListener("BacktracePaintReady",()=>{const{t0:e,t1:t,t2:n}=window.ucweb.window.performance,r={type:"track-timing",sdkVer:"2.0.0-beta13",data:{t0:e,t1:t,t2:n}};var o=new Blob([JSON.stringify(r,null,2)],{type:"application/json"});navigator.sendBeacon("https://perf.ele.me/log",o)},!1)},1374:function(module,exports,__webpack_require__){(function(global){var babelHelpers={},toStr,isCallable,maxSafeInteger,toLength,REACT_ELEMENT_TYPE;Array.from||(Array.from=(toStr=Object.prototype.toString,isCallable=function(e){return"function"==typeof e||"[object Function]"===toStr.call(e)},maxSafeInteger=Math.pow(2,53)-1,toLength=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),maxSafeInteger)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!isCallable(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var o,a=toLength(t.length),i=isCallable(this)?Object(new this(a)):new Array(a),s=0;s<a;)o=t[s],i[s]=r?void 0===n?r(o,s):r.call(n,o,s):o,s+=1;return i.length=a,i})),babelHelpers.typeof="function"===eval("typeof Symbol")&&"symbol"===eval("typeof Symbol.iterator")?function(obj){return eval("typeof obj")}:function(obj){return obj&&"function"===eval("typeof Symbol")&&obj.constructor===Symbol?"symbol":eval("typeof obj")},babelHelpers.jsx=(REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:REACT_ELEMENT_TYPE,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),babelHelpers.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){return r("next",e)},function(e){return r("throw",e)});e(s)}("next")})}},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),babelHelpers.defineEnumerableProperties=function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},babelHelpers.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e},babelHelpers.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},babelHelpers.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},babelHelpers.get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0},babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},babelHelpers.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},babelHelpers.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},babelHelpers.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},babelHelpers.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},babelHelpers.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},babelHelpers.selfGlobal=void 0===global?self:global,babelHelpers.set=function e(t,n,r,o){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);null!==i&&e(i,n,r,o)}else if("value"in a&&a.writable)a.value=r;else{var s=a.set;void 0!==s&&s.call(o,r)}return r},babelHelpers.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),babelHelpers.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},babelHelpers.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},babelHelpers.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},babelHelpers.temporalRef=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},babelHelpers.temporalUndefined={},babelHelpers.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},babelHelpers.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Object.assign||(Object.assign=babelHelpers.extends),"undefined"==typeof window?global.babelHelpers=babelHelpers:window.babelHelpers=babelHelpers}).call(exports,__webpack_require__(47))},1375:function(e,t){const n=JSON.parse;JSON.parse=function(e){return""===e?null:n.apply(JSON,arguments)}},1376:function(e,t){try{"object"!=typeof localStorage&&(localStorage={})}catch(e){setTimeout(function(){throw e})}var n;!function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{localStorage.setItem(e,e),e===localStorage.getItem(e)&&localStorage.removeItem(e)}catch(r){if(!localStorage)return;var t={},n=e;localStorage.setItem=function(e,r){t[n+e]=r+""},localStorage.getItem=function(e){return n+e in t?t[n+e]:null},localStorage.removeItem=function(e){delete t[n+e]},localStorage.clear=function(){t={}}}}(),function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{sessionStorage.setItem(e,e),e===sessionStorage.getItem(e)&&sessionStorage.removeItem(e)}catch(r){if(!sessionStorage)return;var t={},n=e;sessionStorage.setItem=function(e,r){t[n+e]=r+""},sessionStorage.getItem=function(e){return n+e in t?t[n+e]:null},sessionStorage.removeItem=function(e){delete t[n+e]},sessionStorage.clear=function(){t={}}}}(),n=Date.parse,Date.parse=function(e){var t=String(e).match(/^(\d+)-(\d+)-(\d+)T(\d+):(\d+)(?::(\d+)(?:\.(\d\d\d))?)?(z|[+-]\d\d:?\d\d)$/i);if(t){var r=t[8].match(/\d\d/g)||[];return r[0]=0|r[0],r[1]=0|r[1],"-"===t[8].charAt(0)&&(r[0]=-r[0],r[1]=-r[1]),Date.UTC(t[1],t[2]-1,t[3],t[4]-r[0],t[5]-r[1],0|t[6],0|t[7])}return n.apply(this,arguments)}},1377:function(e,t,n){"use strict";Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var a=t[o];if(e.call(r,a,o,t))return a}}},1378:function(e,t){Promise.prototype.always=function(e){return this.then(e,e)}},1379:function(e,t){},1380:function(e,t){},1381:function(e,t){},1382:function(e,t){},1383:function(e,t,n){var r;r=function(e){"use strict";e("UParams",function(){var e=RegExp.prototype.test.bind(/^(?:toString|valueOf)$/),t=function(n){if(!(this instanceof t))return new t(n);n||(n=location.search+location.hash);var r=this;switch(typeof n){case"object":for(var o in n)e(o)||(r[o]=n[o]+"");break;case"string":n.replace(/([^=?#&]*)=([^?#&]*)/g,function(t,n,o){e(n)||(r[decodeURIComponent(n)]=decodeURIComponent(o))})}};return Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}}),t})},"object"==typeof e&&e.exports?r(function(t,n,r){var o;void 0===r&&(r=n,n=[]),o=[],e.exports=r.apply(e.exports,o)||e.exports}):"function"===String("function")&&n(1384)?r(n(1385)):r(function(e,t,n){void 0===n&&(n=t,t=[]);try{"object"==typeof execScript&&execScript("var "+e)}catch(e){}window[e]={};for(var r=[],o=0;o<t.length;o++)r[o]=window[t[o]];window[e]=n.apply(window[e],r)||window[e]})},1384:function(e,t){(function(t){e.exports=t}).call(t,{})},1385:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1386:function(e,t,n){"use strict";var r=n(308),o=n(2);let a=/sw_debug/.test(location.href);const i=()=>{window.addEventListener("beforeinstallprompt",e=>{Perf.count({id:"sw-install",value:0}),e.userChoice.then(e=>{Perf.count({id:"sw-install",value:"accepted"===e.outcome?1:2})})});let e=`/sw.js?debug=${a}&APP=${o.h.isEleme}&alipay=${o.h.isAlipay}`;navigator.serviceWorker.register(e)},s=+(navigator.userAgent.match(/Chrome\/(\d+)\./i)||[])[1]||0,c=+(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]||0;(()=>!!a||!o.h.isAlipay&&("serviceWorker"in navigator&&(s>=57||c>=604)))()&&fetch("//shadow.elemecdn.com/crayfish/h5.ele.me/service-worker").then(e=>e.json()).then(e=>e.downgrade?(()=>{const e=navigator.serviceWorker;e&&(e.getRegistrations?e.getRegistrations().then(e=>{e.forEach(e=>{e.unregister()})}):e.getRegistration&&e.getRegistration().then(e=>{e&&e.unregister()}))})():Object(r.a)("service-worker","grayscale")).then(i)},1387:function(e,t,n){"use strict";var r=n(576),o=n(27);const a=e=>"number"==typeof e&&e>0;t.a={userId:()=>new Promise((e,t)=>{const n=o.a.userId;return a(n)&&e(n),Object(r.a)("/eus/v1/current_user?info_raw={}").then(r=>{o.a.setUserId(r),a(n)&&r!==n&&location.reload(),a(r)?e(r):(t({name:"HTTP_UNAUTHORIZED",message:"未登录"}),o.a.setUser())}).catch(e=>t(e))}),userBasic(){return this.userId().then(e=>Object(r.a)(`/eus/v2/users/${e}`))},reverseGeoCoding:({latitude:e,longitude:t})=>Object(r.a)(`/bgs/poi/reverse_geo_coding?latitude=${e}&longitude=${t}`),geoHierarchy:({latitude:e,longitude:t})=>Object(r.a)(`/bgs/geo/hierarchy?latitude=${e}&longitude=${t}`)}},1388:function(e,t,n){"use strict";var r=n(2);const o=["supervip"];t.a=function(e,t){return new Promise((n,a)=>{let i;window.AlipayJSBridge&&-1!==o.indexOf(t)&&(i=(e=>new Promise((t,n)=>{let r=JSON.parse(e).payData.ALI_PAY;ap.tradePay({orderStr:r},e=>{"9000"===e.resultCode?t():n({message:"支付失败"})})}))(e)),r.h.isEleme&&window.hybridAPI&&(i=(e=>new Promise((t,n)=>{hybridAPI.pay({merchantId:(e.match(/merchantId=(\d+)/)||[])[1],merchantOrderNo:(e.match(/merchantOrderNo=(\d+)/)||[])[1],xShard:decodeURIComponent((e.match(/xShard=(.+)&?/)||[])[1])}).then(t).catch(t=>{if("NOT_SUPPORT"===t.name)return location.href=e;n(t)})}))(e)),i?i.then(n).catch(a):location.href=e})}},1389:function(e,t,n){"use strict";t.a=((e,t)=>{let n={success:e};e||(n.error={message:"object"==typeof t?JSON.stringify(t):t}),window.perf&&window.perf.sendRawEvent("page_success",n)})},1390:function(e,t,n){"use strict";var r=n(27);const o=e=>"Object"===Object.prototype.toString.call(e).slice(8,-1),a={get user(){return`user_${r.a.userId||"guest"}`},path:location.pathname.replace(/\//g,"")},i=()=>{try{const e=JSON.parse(localStorage.getItem(a.user));return o(e)?e:{}}catch(e){return{}}},s=e=>{const t=e[a.path];return o(t)?t:{}},c=e=>{localStorage.setItem(a.user,JSON.stringify(e))};t.a={getAllPaths:i,getAllItems:()=>s(i()),getItem:e=>s(i())[e],setItem(e,t){const n=i(),r=s(n);r[e]=t,n[a.path]=r,c(n)},removeItem(e){const t=i(),n=s(t);delete n[e],t[a.path]=n,c(t)},clear(){const e=i();e[a.path]={},c(e)}}},1391:function(e,t,n){"use strict";var r=n(577),o=n.n(r),a=n(60),i=n.n(a),s=n(579),c=n.n(s),l=n(2);const u="h5.ele.me"===location.host,p=/AliApp/i.test(navigator.userAgent)&&/UCBrowser/i.test(navigator.userAgent),f=[/WeixinJSBridge/i];function d(e){let t=localStorage.getItem("STORE");try{const{userId:e,location:n}=JSON.parse(t);t={userId:e,location:n}}catch(e){t=null}t&&e.setUserContext(t)}t.a=function({id:e,token:t,project:n,ignoreErrors:r=[],includePaths:a=[]}){if(!u)return console.warn(`只允许在生产域名：\`h5.ele.me\` 上启用，当前域名：${location.host}`),Promise.reject();if(!e)throw new Error("id 不能为空");if(!n||"string"!=typeof n)throw new Error("project 不是合法的字符串");Array.prototype.push.apply(r,f);const s=o.a.config(`//${t}@opensite-restapi.ele.me/v1/sentry/${e}`,{ignoreErrors:r,includePaths:a,tags:{project:n}});return Object(l.a)("//shadow.elemecdn.com/crayfish/h5.ele.me/sentry"+(p?`?random=${Date.now()}`:""),{credentials:"omit"},{needRes:!0}).then(({result:e,res:t})=>{const r=["cache-control","content-type","expires","last-modified"],o=e[n];if(null==o){const e={headers:r.reduce((e,n)=>(e[n]=t.headers.get(n),e),{}),status:t.status},o={content:`crayfish 上未配置对应的项目：${n} 或项目配置被删除`,meta:{res:e}};return console.warn(o),Promise.reject({name:"CRAYFISH_CONFIG_NOTFOUND",message:o})}if(o)return d(s),s.addPlugin(c.a,i.a).install(),function(e){const t=window.onunhandledrejection;window.onunhandledrejection=(n=>{"function"==typeof t&&t(n),e.captureException(n.reason)})}(s),s}).catch(e=>{s.install(),d(s),s.captureException(new Error(JSON.stringify({name:e.name||"UNKNOWN_ERROR",message:e.message||JSON.stringify(e)})),{level:"HTTP_TIMEOUT"===e.name?"warning":"error"})})}},1392:function(e,t,n){(function(t){var r=n(1393),o=n(1394),a=n(1395),i=n(578),s=i.isError,c=i.isObject,l=i.isErrorEvent,u=i.isUndefined,p=i.isFunction,f=i.isString,d=i.isArray,h=i.isEmptyObject,g=i.each,m=i.objectMerge,b=i.truncate,v=i.objectFrozen,y=i.hasKey,_=i.joinRegExp,w=i.urlencode,S=i.uuid4,E=i.htmlTreeAsString,O=i.isSameException,x=i.isSameStacktrace,k=i.parseUrl,j=i.fill,P=i.supportsFetch,I=n(1396).wrapMethod,C="source protocol user pass host port path".split(" "),A=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function T(){return+new Date}var R="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},U=R.document,N=R.navigator;function H(e,t){return p(t)?function(n){return t(n,e)}:t}function L(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!u(U),this._hasNavigator=!u(N),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:R.SENTRY_RELEASE&&R.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:"origin"},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=R.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=T(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=R.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}L.prototype={VERSION:"3.22.1",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var o=n._globalOptions;t&&g(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:o[e]=t}),n.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=_(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&_(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&_(o.whitelistUrls),o.includePaths=_(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var a={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},i=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(i)?i=m(a,i):!1!==i&&(i=a),o.autoBreadcrumbs=i;var s={tryCatch:!0},c=o.instrument;return"[object Object]"==={}.toString.call(c)?c=m(s,c):!1!==c&&(c=s),o.instrument=c,r.collectWindowErrors=!!o.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),r=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return p(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(u(t)&&!p(e))return e;if(p(e)&&(t=e,e=void 0),!p(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],a=arguments.length,i=!e||e&&!1!==e.deep;for(n&&p(n)&&n.apply(this,arguments);a--;)o[a]=i?r.wrap(e,arguments[a]):arguments[a];try{return t.apply(this,o)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var a in t)y(t,a)&&(o[a]=t[a]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return r.report.uninstall(),this._unpatchFunctionToString(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){var n=!s(e),o=!l(e),a=l(e)&&!e.error;if(n&&o||a)return this.captureMessage(e,m({trimHeadFrames:1,stacktrace:!0},t));l(e)&&(e=e.error),this._lastCapturedException=e;try{var i=r.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,o=m({message:e+""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var a=r.computeStackTrace(n),i=d(a.stack)&&a.stack[1],s=i&&i.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t&&t.stacktrace){t=m({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var c=this._prepareFrames(a,t);o.stacktrace={frames:c.reverse()}}return this._send(o),this}}},captureBreadcrumb:function(e){var t=m({timestamp:T()/1e3},e);if(p(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(c(n)&&!h(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=H(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=H(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=H(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=R.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(U){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new a("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new a("Missing DSN");var r=encodeURIComponent,o="";o+="?eventId="+r(t),o+="&dsn="+r(n);var i=e.user||this._globalContext.user;i&&(i.name&&(o+="&name="+r(i.name)),i.email&&(o+="&email="+r(i.email)));var s=this._getGlobalServer(this._parseDSN(n)),c=U.createElement("script");c.async=!0,c.src=s+"/api/embed/error-page/"+o,(U.head||U.body).appendChild(c)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),U.createEvent?(n=U.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=U.createEventObject()).eventType=e,t)y(t,r)&&(n[r]=t[r]);if(U.createEvent)U.dispatchEvent(n);else try{U.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=E(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=k(this._location.href),r=k(t),o=k(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var o=new Array(arguments.length),a=0;a<o.length;++a)o[a]=arguments[a];var i=o[0];return p(i)&&(o[0]=e.wrap(i)),t.apply?t.apply(this,o):t(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function o(n){var o=R[n]&&R[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(j(o,"addEventListener",function(t){return function(o,a,i,s){try{a&&a.handleEvent&&(a.handleEvent=e.wrap(a.handleEvent))}catch(e){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,o,e.wrap(a,void 0,c),i,s)}},t),j(o,"removeEventListener",function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}},t))}j(R,"setTimeout",n,t),j(R,"setInterval",n,t),R.requestAnimationFrame&&j(R,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}},t);for(var a=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<a.length;i++)o(a[i])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&p(n[t])&&j(n,t,function(t){return e.wrap(t)})}if(t.xhr&&"XMLHttpRequest"in R){var o=XMLHttpRequest.prototype;j(o,"open",function(t){return function(n,r){return f(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},n),j(o,"send",function(t){return function(){var n=this;function o(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var a=["onload","onerror","onprogress"],i=0;i<a.length;i++)r(a[i],n);return"onreadystatechange"in n&&p(n.onreadystatechange)?j(n,"onreadystatechange",function(t){return e.wrap(t,void 0,o)}):n.onreadystatechange=o,t.apply(this,arguments)}},n)}t.xhr&&P()&&j(R,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,a=n[0],i="GET";if("string"==typeof a?o=a:"Request"in R&&a instanceof R.Request?(o=a.url,a.method&&(i=a.method)):o=""+a,-1!==o.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(i=n[1].method);var s={method:i,url:o,status_code:null};return t.apply(this,n).then(function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})}},n),t.dom&&this._hasDocument&&(U.addEventListener?(U.addEventListener("click",e._breadcrumbEventHandler("click"),!1),U.addEventListener("keypress",e._keypressEventHandler(),!1)):(U.attachEvent("onclick",e._breadcrumbEventHandler("click")),U.attachEvent("onkeypress",e._keypressEventHandler())));var a=R.chrome,i=!(a&&a.app&&a.app.runtime)&&R.history&&history.pushState&&history.replaceState;if(t.location&&i){var s=R.onpopstate;R.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};j(history,"pushState",c,n),j(history,"replaceState",c,n)}if(t.console&&"console"in R&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};g(["debug","info","warn","error","log"],function(e,t){I(console,t,l)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_drainPlugins:function(){var e=this;g(this._plugins,function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=A.exec(e),n={},r=7;try{for(;r--;)n[C[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(g(e.stack,function(t,o){var a=n._normalizeFrame(o,e.url);a&&r.push(a)}),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,o,a){var i,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),i={frames:o}):n&&(i={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=m({exception:{values:[{type:e,value:t,stacktrace:i}]},culprit:n},a);this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=b(e.message,t)),e.exception){var n=e.exception.values[0];n.value=b(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=b(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=b(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,o=["to","from","url"],a=0;a<e.values.length;++a)if((n=e.values[a]).hasOwnProperty("data")&&c(n.data)&&!v(n.data)){r=m({},n.data);for(var i=0;i<o.length;++i)t=o[i],r.hasOwnProperty(t)&&r[t]&&(r[t]=b(r[t],this._globalOptions.maxUrlLength));e.values[a].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&N.userAgent&&(e.headers={"User-Agent":navigator.userAgent}),R.location&&R.location.href&&(e.url=R.location.href),this._hasDocument&&U.referrer&&(e.headers||(e.headers={}),e.headers.Referer=U.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&T()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.culprit!==t.culprit)&&(e.stacktrace||t.stacktrace?x(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||O(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=P()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=T()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=m(n,e)).tags=m(m({},this._globalContext.tags),e.tags),e.extra=m(m({},this._globalContext.extra),e.extra),e.extra["session:duration"]=T()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||h(e[t]))&&delete e[t]}),p(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!h(e)&&(p(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_getUuid:function(){return S()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var a=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:a?(a.type?a.type+": ":"")+a.value:e.message,event_id:e.event_id,level:e.level||"error"});var i=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:i,auth:o,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:i}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:i}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+w(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),P()){r.body=o(e.data);var a=m({},this._fetchDefaults),i=m(a,r);return n&&(i.headers=n),R.fetch(t,i).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var s=R.XMLHttpRequest&&new R.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&g(n,function(e,t){s.setRequestHeader(e,t)}),s.send(o(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){u(t)?delete this._globalContext[e]:this._globalContext[e]=m(this._globalContext[e]||{},t)}},L.prototype.setUser=L.prototype.setUserContext,L.prototype.setReleaseContext=L.prototype.setRelease,e.exports=L}).call(t,n(47))},1393:function(e,t,n){(function(t){var r=n(578),o={collectWindowErrors:!0,debug:!1},a="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function l(){return"undefined"==typeof document||null==document.location?"":document.location.href}o.report=function(){var e,t,n=[],u=null,p=null,f=null;function d(e,t){var r=null;if(!t||o.collectWindowErrors){for(var a in n)if(n.hasOwnProperty(a))try{n[a].apply(null,[e].concat(i.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function h(t,n,a,i,u){var p=r.isErrorEvent(u)?u.error:u,h=r.isErrorEvent(t)?t.message:t;if(f)o.computeStackTrace.augmentStackTraceWithInitialElement(f,n,a,h),g();else if(p&&r.isError(p))d(o.computeStackTrace(p),!0);else{var m,b={url:n,line:a,column:i},v=void 0;if("[object String]"==={}.toString.call(h))(m=h.match(c))&&(v=m[1],h=m[2]);b.func=s,d({name:v,message:h,url:l(),stack:[b]},!0)}return!!e&&e.apply(this,arguments)}function g(){var e=f,t=u;u=null,f=null,p=null,d.apply(null,[e,!1].concat(t))}function m(e,t){var n=i.call(arguments,1);if(f){if(p===e)return;g()}var r=o.computeStackTrace(e);if(f=r,p=e,u=n,setTimeout(function(){p===e&&g()},r.incomplete?2e3:0),!1!==t)throw e}return m.subscribe=function(r){t||(e=a.onerror,a.onerror=h,t=!0),n.push(r)},m.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},m.uninstall=function(){t&&(a.onerror=e,t=!1,e=void 0),n=[]},m}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=e.stack.split("\n"),f=[],d=(/^(.*) is undefined$/.exec(e.message),0),h=p.length;d<h;++d){if(n=o.exec(p[d])){var g=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:g?null:n[2],func:n[1]||s,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(p[d]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(p[d])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==d||n[5]||void 0===e.columnNumber||(f[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=s),f.push(r)}return f.length?{name:e.name,message:e.message,url:l(),stack:f}:null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,a){for(var i,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,p=[],f={},d=!1,h=n.caller;h&&!d;h=h.caller)if(h!==r&&h!==o.report){if(c={url:null,func:s,line:null,column:null},h.name?c.func=h.name:(i=u.exec(h.toString()))&&(c.func=i[1]),void 0===c.func)try{c.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}f[""+h]?d=!0:f[""+h]=!0,p.push(c)}a&&p.splice(0,a);var g={name:e.name,message:e.message,url:l(),stack:p};return t(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function r(t,r){var a=null;r=null==r?0:+r;try{if(a=e(t))return a}catch(e){if(o.debug)throw e}try{if(a=n(t,r+1))return a}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:l()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=o}).call(t,n(47))},1394:function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],o=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,t)).join(".")+"]"}),function(a,i){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,a):o.push(a),~n(r,i)&&(i=t.call(this,a,i))}else r.push(i);return null==e?i instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(i):i:e.call(this,a,i)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},1395:function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},1396:function(e,t){e.exports={wrapMethod:function(e,t,n){var r=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),i=""+e.join(" "),s={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(i="Assertion failed: "+(e.slice(1).join(" ")||"console.assert"),s.extra.arguments=e.slice(1),n&&n(i,s)):n&&n(i,s),r&&Function.prototype.apply.call(r,o,e)}}}}},1397:function(e,t,n){"use strict";const r="h5.ele.me"===location.host,o=[/WeixinJSBridge/i];t.a=(({id:e,token:t,project:n,ignoreErrors:a=[],includePaths:i=[]})=>{if(!r)return void console.warn(`只允许在生产域名：\`h5.ele.me\` 上启用，当前域名：${location.host}`);if(!e)throw new Error("id 不能为空");if(!n||"string"!=typeof n)throw new Error("project 不是合法的字符串");if(!Raven)return;Array.prototype.push.apply(a,o);const s=Raven.config(`//${t}@perf.ele.me/sentry//${e}`,{ignoreErrors:a,includePaths:i,tags:{project:n}});(e=>{let t=localStorage.getItem("STORE");try{const{userId:e,location:n}=JSON.parse(t);t={userId:e,location:n}}catch(e){t=null}t&&e.setUserContext(t)})(s),s.addPlugin(Raven.Plugins.Vue,Vue),s.install()})},1398:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1399);const o={"/":"Index","/msite/":"Index","/msite/food/":"Index","/shop/":"Shop","/order/":"Orders","/order/detail/":"Orders","/profile/":"Profile","/login/":"Auth"};function a(){window.addEventListener("DOMContentLoaded",()=>{const e=location.pathname,t=o[e];t&&Object(r.a)(t)})}},1399:function(e,t,n){"use strict";const r="me.ele.miui",o="http://thefatherofsalmon.com",a="MIX_INVOKED";t.a=function(e,t={}){if(sessionStorage.getItem(a))return;let n=`${o}?i=${r}&p=${e}`,i=Object.assign(new UParams,t),s=Object.keys(i).map(e=>`${e}=${encodeURIComponent(i[e])}`).join("&");s&&(n+=`&a=${encodeURIComponent(s)}`);let c=new Image;c.src=n,c=null,sessionStorage.setItem(a,!0)}},1400:function(e,t,n){"use strict";var r=n(20);const o={koubei:0,zhifubao:1,koubeishangjia:2,kb_shop:2,cardquan:3,cardwei:4,koubeihongbao:5,kb_hongbao:5,shenghuohao:6,koubeirebuy:7,kb_rebuy:7,koubeiorder:8,kb_order:8,kb_ordershop:9,entrycard:10,neirong:11,pay_offline:12,pay_rent:13,pay_vip:14,pay_success:15,kb_1212:16,pay_sms:17,pay_baida:18,pay_vipshop:19,pay_search:20,kb_app:21,pay_hui:22,pay_antvip:23,pay_living:24,pay_mt:25,pay_freed:26,pay_phone:27,pay_ant:28,pay_hua:29,pay_express:30,pay_bike:31,pay_year:32,pay_eve:33,pay_farm:34,pay_huipay:35},a={"alipay:kb_app":[21],"alipay:koubei":[0,2,5,7,8,9,16],"alipay:zhifubao":[1,3,4,6,10,11,12,13,14,15,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35]};t.a={init(){const e=UParams().from;ap.setSessionData({data:{subChannelFrom:e}});const t=o[e];void 0!==t&&(window.UBT.send("EVENT",{id:101152,params:{type:t}}),this._setSubChannel(t))},_setSubChannel(e){let t="";Object.keys(a).some(n=>{if(-1!==a[n].indexOf(e))return t=n,!0}),t&&localStorage.setItem("SUB_CHANNEL",t)},checkNewUser(){const e=r.d.store.get("code");if(!e)return;ap.getSessionData("userChecked").then(t=>{t.data.userChecked||r.a.checkNewUser(e).then(()=>{ap.setSessionData({data:{userChecked:!0}})}).catch(()=>{})}).catch(()=>{})}}},1401:function(e,t,n){"use strict";var r=n(2),o=n(580);const a=r.j.get("location")||{},i={headers:{"content-type":"application/json; charset=utf-8"},credentials:"include",method:"POST"},s=/^h5-vip\./.test(document.domain)?"//ppe-openapi.ele.me/v2":"//openapi.ele.me/v2",c={m:1,f:2};t.a={userId:()=>Object(r.a)("/eus/v1/current_user?info_raw={}",{credentials:"include"}),login(e,t,n={}){return o.a.getDeviceId().catch(()=>{}).then(o=>Object(r.a)("/eus/login/alipay_login",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({alipay_device_id:o,alipay_code:e,auth_type:t},n,a))}))).then(t=>(this.getAlipayUserInfo(e),this.userId().then(e=>(r.j.setUserId(e),t)).catch(()=>t)))},getAlipayCode:(e,t)=>o.a.getDeviceId().catch(()=>{}).then(n=>Object(r.a)(`${s}/koubei/oauthcode/`,{method:"POST",headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify({scope:t,auth_code:e,alipay_device_id:n})})).then(e=>e.data?e.data:Promise.reject(e)),loginPassword:(e,t,n)=>o.a.getDeviceId().catch(()=>{}).then(o=>Object(r.a)("/eus/login/alipay_login/by_password",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({alipay_device_id:o,alipay_code:e,auth_type:t},n,a))}))),loginMobile:(e,t,n)=>o.a.getDeviceId().catch(()=>{}).then(o=>Object(r.a)("/eus/login/alipay_login/by_mobile",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({alipay_device_id:o,alipay_code:e,auth_type:t},n,a))}))),getCaptcha:e=>Object(r.a)("/eus/v3/captchas",babelHelpers.extends({},i,{body:JSON.stringify({captcha_str:e})})),getMobileCode:e=>Object(r.a)("/eus/login/mobile_send_code",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({},e,a))})),getAlipayUserInfo(e){Object(r.a)(`${s}/koubei/user_info/`,babelHelpers.extends({},i,{body:JSON.stringify({alipay_code:e})})).then(e=>{let{mobile:t,user_name:n,gender:o}=e.data,a=0;o&&(a=c[o.toLowerCase()]),r.j.set("ali_user_info",{phone:t,name:n,sex:a})}).catch(()=>{})},checkNewUser:e=>Object(r.a)(`${s}/koubei/alipay-user-check/`,babelHelpers.extends({},i,{credentials:"omit",body:JSON.stringify({alipay_code:e})})).then(e=>e.data?e.data:Promise.reject(e))}},1402:function(e,t,n){"use strict";var r=n(20);const o={vip:{appId:"2017083108482117",authHost:"https://openauth.alipay.com",openapi:"https://ppe-openapi.ele.me/v2/koubei/notify/"},prod:{appId:"2017080208005319",authHost:"https://openauth.alipay.com",openapi:"https://openapi.ele.me/v2/koubei/notify/"}},a={1:"auth_base",2:"auth_user,auth_ele_data"},i=/^h5-vip\./.test(document.domain)?"vip":"prod";function s(e,t){const{appId:n,authHost:r,openapi:a}=o[i];let s=`${r}/oauth2/publicAppAuthorize.htm?app_id=${n}&scope=${e}&redirect_uri=${encodeURIComponent(a)}`;return t&&(s+=`&next_url=${encodeURIComponent(encodeURIComponent(t))}`),s}t.a={canJSAuth:window.ap&&ap.compareVersion("10.0.16")>=0,getCookieAlipayCode:()=>(document.cookie.match(/alipay_code=(\w+)/)||[])[1],invokeAuthSilent(e){location.replace(s(a[1],e))},invokeOAuth(e){location.replace(s(a[2],e))},getAuthCode:e=>new Promise((t,n)=>{AlipayJSBridge.call("getAuthCode",{scopeNicks:e.split(","),appId:o[i].appId},r=>{r.authcode?(e===a[2]&&UBT.send("EVENT",{id:101989}),t(r.authcode)):n(r)})}),getAlipayCode(e=1){if(!this.canJSAuth)return this[1===e?"invokeAuthSilent":"invokeOAuth"](location.href+"?"),Promise.reject();const t=a[e];return 2===e&&UBT.send("EVENT",{id:101990}),this.getAuthCode(t).then(e=>r.a.getAlipayCode(e,t)).then(e=>(r.d.store.set("code",e.alipay_code),e)).catch(t=>(window.perf&&window.perf.sendEvent({name:"h5/alipay-jsauth-failed",id:"rJW5z4aYW",data:{error:t.message||JSON.stringify(t)}}),t.error&&11!==t.error&&this[1===e?"invokeAuthSilent":"invokeOAuth"](location.href+"?"),Promise.reject(t)))}}},161:function(e,t,n){var r;r=function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(3)),i=r(n(4)),s=r(n(2)),c=r(n(5)),l=r(n(6)),u=r(n(7));t.default={getGeohash:o.default,compareVersion:a.default,paramToString:i.default,resolveFetch:s.default,checkoutByApp:c.default,getUrl:l.default,expiredLocalStorage:u.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),a=/opensite/.test(document.domain)?location.origin.replace(/\:\/\/opensite([-|.][^.]+)/,"://opensite-restapi$1"):location.origin.replace(/(https?\:\/\/).*?((\.[a-z]*)?\.(ele|elenet){1}\.me)/,"$1restapi$2"),i=function(){return window.UParams&&window.UParams().geohash||""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null,r=function(){clearInterval(n)};return new Promise(function(o,a){if(!window.hybridAPI)return a();var i=function(){window.hybridAPI.getGlobalGeohash().then(function(e){e&&(r(),o(e))})};n=setInterval(i,t),i(),setTimeout(function(){r(),a()},e)})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return navigator.geolocation?new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),t(window.Geohash.encode(e.coords.latitude,e.coords.longitude))},n,{timeout:e,maximumAge:1e4})}):Promise.reject()},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=a+"/shopping/v1/cities/guess",n=new Promise(function(t,n){return setTimeout(function(){n({name:"API_GUESS_TIMEOUT"})},e)});return Promise.race([function(e){return window.fetch(e,{credentials:"omit"}).then(r.default)}(t),n]).then(function(e){var t=e.latitude,n=e.longitude;return window.Geohash.encode(t,n)})},u=function(){if(!window.ap)return Promise.reject();return(ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:o?"iOS-ele-position":"Android-ele-position"})).then(function(e){return window.Geohash.encode(e.latitude,e.longitude)})},p=function(e){return new Promise(function(t,n){c(e).then(t).catch(function(){return l()}).then(t).catch(n)})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=i();if(n)return Promise.resolve(n);return/Eleme/i.test(navigator.userAgent)?function(e,t){return s(2*e/3).catch(function(){return t?Promise.reject():p(1*e/3)})}(e,t):/AlipayClient/.test(navigator.userAgent)?u().catch(function(){return l()}):p(e)};f.getParamHash=i,f.useApp=s,f.useGeoAPI=c,f.useRestAPI=l,f.useAlipay=u,t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(204===e.status)return Promise.resolve.bind(Promise);var t=e.json();return e.status>=200&&e.status<300?t:t.then(Promise.reject.bind(Promise))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(!t&&!(t=(window.navigator.userAgent.match(/Eleme\/([\d|\.]+)/i)||[])[1]))return!1;e=e.split("."),t=t.split(".");var n=void 0;return e.forEach(function(e,r){var o=t[r];if(void 0===o&&(o=0),void 0===n){var a=Number(e)-Number(o);0!==a&&(n=a>0)}}),!!n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Object.prototype.toString.call(e).slice(8,-1)};t.default=function(e){if("Object"!==n(e))throw"param 必须是一个 object";var t=[];return Object.keys(e).forEach(function(r){var o=e[r];Array.isArray(o)?t=t.concat(o.map(function(e){return encodeURIComponent(r)+"[]="+encodeURIComponent(e)})):"Object"===n(o)?(o=JSON.stringify(o),t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))):"Undefined"!==n(o)&&"Null"!==n(o)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}),t.join("&")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=function(e){var t=e.id,n=e.entities,o=(e.callback,{clear_cart:!0});(0,r.default)("7.2")?o.add_foods=n.map(function(e){return{id:e.id,quantity:e.quantity,specs:e.specs.map(function(e){return e.value})}}):o.add_foods=n.map(function(e){var t=e.id,n=e.sku_id,r=e.quantity,o=e.specs,a=e.attrs;return{id:t,sku_id:n||"",quantity:r,specs:o,attrs:a}}),location.href="eleme://checkout?restaurant_id="+t+"&cart_operations="+JSON.stringify(o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a="";if("{}"!==JSON.stringify(t))for(var i in a="hash"===r?"#":"?",t){var s=t[i];a+="object"===(void 0===s?"undefined":n(s))&&s?encodeURIComponent(i)+"="+encodeURIComponent(JSON.stringify(s))+"&":encodeURIComponent(i)+"="+encodeURIComponent(s)+"&"}return a=""+e+a.replace(/&$/,""),/Eleme/.test(navigator.userAgent)&&(a="eleme://web?url="+encodeURIComponent(a)+"&animation_type="+o),a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e){var t=e.key,n=e.value,r=e.expiredDate,o=e.expiredDay,a={value:n,expired:""};return r&&(a.expired=r),o&&(a.expired=Date.now()+60*o*60*1e3),localStorage.setItem(t,JSON.stringify(a)),{key:t,value:JSON.stringify(a)}},get:function(e){var t=void 0;try{t=JSON.parse(localStorage.getItem(e))}catch(e){throw e}if(!t)throw"The key: "+e+" you want are not found in localStorage";var n=Date.now()>new Date(t.expired).getTime();return{value:t.value,expired:n}}}}])},e.exports=r()},2:function(e,t,n){"use strict";n.d(t,"f",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"d",function(){return y});var r=n(161),o=n.n(r),a=n(27),i=n(576),s=n(1387),c=n(1388),l=n(1389),u=n(1390),p=n(1391),f=n(1397);n.d(t,"a",function(){return i.a}),n.d(t,"j",function(){return a.a}),n.d(t,"b",function(){return s.a}),n.d(t,"g",function(){return c.a}),n.d(t,"i",function(){return l.a}),n.d(t,"m",function(){return u.a}),n.d(t,"k",function(){return p.a}),n.d(t,"l",function(){return f.a});const d=navigator.userAgent,h=/Eleme/i.test(d);let g="unchecked";const m=Object.freeze({isEleme:h,isAlipay:/alipay/i.test(d),isKb:/KoubeiClient/.test(d),isOpensite:/opensite/.test(document.domain),isXiaomi:/xiaomi/i.test(d),isWechat:/micromessenger/i.test(d),isQQ:/\sQQ\/\d/.test(d),isIOS:/iPhone|iPad|iPod|iOS/i.test(d),isAndroid:/Android/i.test(d),isIPhoneX:(()=>{if(!/iPhone/i.test(d))return!1;const e=window.screen||{};return 812===e.height&&375===e.width})(),isUC:/UCBrowser/.test(d),isWechatMp:()=>new Promise((e,t)=>{"unchecked"===g?window.wx?wx.ready(()=>{"miniprogram"===window.__wxjs_environment?e(g=!0):t(g=!1)}):t():g?e():t()})}),b=h&&o.a.compareVersion("7.12.0"),v=(e=location.href)=>h?"eleme://login":`/login#redirect=${encodeURIComponent(e)}`,y=(location.host.match(/h5\.faas\.(\w+)\./)||[])[1]||"prod"},20:function(e,t,n){"use strict";var r=n(1401),o=n(580),a=n(1402),i=n(581);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"c",function(){return i.a})},27:function(e,t,n){"use strict";var r=n(575),o=n.n(r);let a=()=>{let e;try{e=JSON.parse(localStorage.getItem("STORE"))||{}}catch(t){e={}}return e},i={get(e){const t=a();return e?t[e]:t},set(e,t){let n=a();n[e]=t;try{localStorage.setItem("STORE",JSON.stringify(n))}catch(e){console.error(e)}return n},setLocation(e,t=""){const[n,r]=o.a.decode(e),a=parseInt(Date.now()/1e3);return this.set("location",{geohash:e,latitude:n,longitude:r,timestamp:a,locationName:t})},setUser(e){return this.set("user",e)},setUserId(e){return this.set("userId",e)},get location(){return this.get("location")},get user(){return this.get("user")},get userId(){return this.get("userId")}};t.a=Object.freeze(i)},308:function(e,t,n){"use strict";let r=0;"undefined"!=typeof localStorage&&((r=+localStorage.getItem("GRAYSCALE"))||(r=Math.random(),localStorage.setItem("GRAYSCALE",r)));t.b=(()=>r),t.a=((e,t)=>"undefined"==typeof localStorage?Promise.reject():fetch(`//shadow.elemecdn.com/crayfish/h5.ele.me/${e}?t=${Date.now()}`).then(e=>e.json()).then(e=>e&&r<e[t]?Promise.resolve():Promise.reject()))},47:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},575:function(e,t,n){var r=new function(){var e=Math.round,t=Math.max,n=Math.pow,r=Math.log,o="0123456789bcdefghjkmnpqrstuvwxyz",a=new RegExp("^["+o+"]+$"),i=function(){};i.prototype={minlat:-90,maxlat:90,minlng:-180,maxlng:180,halfLat:function(){return(this.minlat+this.maxlat)/2},halfLng:function(){return(this.minlng+this.maxlng)/2}},this.encode=function(e,r){if(e instanceof Array&&null==r&&(r=e[1],e=e[0]),r*=1,(e*=1)!=e)throw new Error("Geohash.encode: lat must be a Number");if(r!=r)throw new Error("Geohash.encode: lng must be a Number");for(var a,s=e.toString().length-e.toFixed().length-2,c=r.toString().length-e.toFixed().length-2,l=n(10,-t(s,c,0))/2,u=new i,p=[],f=180,d=!0,h=0,g=4;f>=l;)if(d?r>(a=u.halfLng())?(h|=1<<g,u.minlng=a):u.maxlng=a:e>(a=u.halfLat())?(h|=1<<g,u.minlat=a):u.maxlat=a,d=!d,g)g--;else{if(f===(f=t(u.maxlng-u.minlng,u.maxlat-u.minlat)))break;p.push(o[h]),g=4,h=0}return p.join("")},this.decode=function(s){if(!a.test(s))throw new Error("Geohash.decode: hash must be a geohash string");for(var c=new i,l=90,u=180,p=function(e,t,n){var r=1<<e;!(1&e)^!(1&n)?r&t?c.minlat=c.halfLat():c.maxlat=c.halfLat():r&t?c.minlng=c.halfLng():c.maxlng=c.halfLng()},f=0,d=s.length;f<d;f++){for(var h=o.indexOf(s[f]),g=1&f,m=4;m>=0;m--)p(m,h,g);g?(l/=8,u/=4):(l/=4,u/=8)}var b=n(10,t(1,-e(r(l)/r(10)))-1),v=n(10,t(1,-e(r(u)/r(10)))-1);return[e(c.halfLat()*b)/b,e(c.halfLng()*v)/v]}};e.exports=r},576:function(e,t,n){"use strict";var r=n(27);const o=/^(opensite|opensite-vip)\./.test(location.hostname),a=e=>!/\.elemecdn\.com/.test(e),i=window.fetch;window.fetch=function(e,t){const n=r.a.get("location");return n&&(({latitude:n,longitude:r})=>{if(n&&r)if("[object Request]"===e.toString())a(e.url)&&e.headers.append("X-Shard",`loc=${n},${r}`);else if(a(e)){(t=t||{}).headers=Object.assign({},t.headers);let e=t.headers["X-Shard"];t.headers["X-Shard"]=e?`${e};loc=${r},${n}`:`loc=${r},${n}`}})(n),i(e,t)};const s=(e,t={},n={})=>{let r=Object.assign({},t.headers);return n.orderId&&(r["X-Shard"]=`eosid=${n.orderId}`),n.shopId&&(r["X-Shard"]=`shopid=${n.shopId}`),o&&t.method&&"get"!==t.method.toLocaleLowerCase()&&(r["Content-Type"]="application/json"),t=Object.assign(t,{headers:r,credentials:t.credentials||(e=>{const t="[object Request]"===e.toString()?e.url:e;return a(t)?"include":"omit"})(e)}),e=(e=>{let t=o?"//opensite-h5.ele.me/restapi":"//h5.ele.me/restapi";return"[object Request]"===e.toString()?e.url=/^(https:|http:)?\/\//.test(e.url)?e.url:`${t}${e.url}`:e=/^(https:|http:)?\/\//.test(e)?e:`${t}${e}`,e})(e),fetch(e,t).then(e=>((e,{needRes:t})=>{let n=e.headers.get("content-type"),r="blob";switch(!0){case/\bjson\b/.test(n):r="json";break;case/\btext\b/.test(n):r="text"}const o=e[r]();return e.ok?t?o.then(t=>({result:t,res:e})):o:o.then(n=>Promise.reject(t?{result:n,res:e}:n))})(e,{needRes:n.needRes}))};t.a=((e,t={},n={})=>{null===t&&(t={});let r=function(){};const{method:o="get"}=t,a="string"==typeof e?e:e.url,i=t.timeout||1e4,c=new Promise((e,t)=>{r=(()=>t({name:"HTTP_TIMEOUT",message:`${o.toUpperCase()} ${encodeURIComponent(a)} 已超时`}))});let l=Promise.race([s(e,t,n),c]);l.abort=r;let u=setTimeout(()=>{r(),clearTimeout(u),u=null},i);return l})},577:function(e,t,n){(function(t){var r=n(1392),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=o.Raven,i=new r;i.noConflict=function(){return o.Raven=a,i},i.afterLoad(),e.exports=i}).call(t,n(47))},578:function(e,t,n){(function(t){var n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function r(e){return void 0===e}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function i(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function s(e,t){var n,o;if(r(e.length))for(n in e)c(e,n)&&t.call(null,n,e[n]);else if(o=e.length)for(n=0;n<o;n++)t.call(null,n,e[n])}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){var t,n,r,o,i,s=[];if(!e||!e.tagName)return"";if(s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id),(t=e.className)&&a(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=e.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}function u(e,t){return!!(!!e^!!t)}function p(e,t){if(u(e,t))return!1;var n,r,o=e.frames,a=t.frames;if(o.length!==a.length)return!1;for(var i=0;i<o.length;i++)if(n=o[i],r=a[i],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch({}.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return i()&&"[object ErrorEvent]"==={}.toString.call(e)},isUndefined:r,isFunction:function(e){return"function"==typeof e},isPlainObject:o,isString:a,isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){if(!o(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:i,supportsFetch:function(){if(!("fetch"in n))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:s,objectMerge:function(e,t){return t?(s(t,function(t,n){e[t]=n}),e):e},truncate:function(e,t){return!t||e.length<=t?e:e.substr(0,t)+"…"},objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:c,joinRegExp:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)a(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")},urlencode:function(e){var t=[];return s(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=n.crypto||n.msCrypto;if(!r(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var o=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return o(t[0])+o(t[1])+o(t[2])+o(t[3])+o(t[4])+o(t[5])+o(t[6])+o(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],r=0,o=0,a=" > ".length;e&&r++<5&&!("html"===(t=l(e))||r>1&&o+n.length*a+t.length>=80);)n.push(t),o+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:l,isSameException:function(e,t){return!u(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,o=t.stacktrace,(!r(n)||!r(o))&&p(e.stacktrace,t.stacktrace)));var n,o},isSameStacktrace:p,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){var o=e[t];e[t]=n(o),e[t].__raven__=!0,e[t].__orig__=o,r&&r.push([e,t,o])}}}).call(t,n(47))},579:function(e,t){e.exports=function(e,t){if((t=t||window.Vue)&&t.config){var n=t.config.errorHandler;t.config.errorHandler=function(t,r,o){var a={};"[object Object]"===Object.prototype.toString.call(r)&&(a.componentName=function(e){if(e.$root===e)return"root instance";var t=e._isVue?e.$options.name||e.$options._componentTag:e.name;return(t?"component <"+t+">":"anonymous component")+(e._isVue&&e.$options.__file?" at "+e.$options.__file:"")}(r),a.propsData=r.$options.propsData),void 0!==o&&(a.lifecycleHook=o),e.captureException(t,{extra:a}),"function"==typeof n&&n.call(this,t,r,o)}}}},580:function(e,t,n){"use strict";var r=n(2);const o=JSON.stringify({loginTip:!1,orderTip:!1}),a=(e,t)=>{const n=(e=>new Promise(t=>{setTimeout(t,e)}))(t).then(()=>{throw new Error("ABORT")});return Promise.race([e,n])};t.a={formatHiddenPhone:e=>`${e.slice(0,3)}******${e.slice(3)}`,getUrlPhone(){const e=UParams().mobile;let t="";return e&&5===e.length&&(t=this.formatHiddenPhone(e)),t},store:{get data(){let e={};try{e=JSON.parse(localStorage.getItem("ALIPAY_META")||o)}catch(e){}return e},get(e){return this.data[e]},set(e,t){const n=this.data;n[e]=t,localStorage.setItem("ALIPAY_META",JSON.stringify(n))}},getDeviceId(){const e=new Promise((e,t)=>{if(!r.h.isAlipay||!window.ap)throw new Error("not in alipay");const n=this.store.get("ALIPAY_DEVICE_ID");if(n)return e(n);window.ap.call("getClientInfo",n=>{const r=n["device.id"];return r?(this.store.set("ALIPAY_DEVICE_ID",r),e(r)):t()})});return a(e,1e3)},closeCoolLoading:()=>r.h.isAlipay?ap.call("coolLoadingCtrl",{action:"close"}):Promise.resolve({})}},581:function(e,t,n){"use strict";t.a=function(){const e=ap.compareVersion("10.0.18")<0;return function(e=!1){return e?Promise.resolve():ap.call("getAuthStatus",{bizType:"ElePG",authType:"LBS"}).then(e=>{if("1"!=e.authStatus)return Promise.reject(e)})}(e).then(()=>window.Utils.getGeohash.useAlipay().catch(t=>((function(e,t=!1){if(!e||!e.error)return!1;let n=!1;const r=e.error;n=t?12===r||16===r||4===r:11===r;return n})(t,e)&&(t=r,o(e)),Promise.reject(t)))).catch(()=>(o(e),Promise.reject(r)))};const r={name:"NEED_LOCATION_PERMISSION"};function o(e=!1){let t;return(t=e?Promise.resolve({shown:!1}):ap.call("showAuthGuide",{bizType:"ElePG",authType:"LBS"})).then(e=>{if(!e.shown){const e="请到手机设置中开启支付宝的定位服务，开启后才能定位到你当前所在位置";Vue.prototype.$MessageBox?Vue.prototype.$MessageBox.alert({title:"开启定位服务",content:e}):alert(e)}}).catch(()=>{})}},582:function(e,t,n){"use strict";const r=navigator.userAgent,o="//app-monitor.ele.me/h5/_.gif",a=()=>{const e=location.pathname.replace(/^\/|\/$/g,"").replace("/","_");let t=(r.match(/AlipayDefined\(nt\:(\w+),/)||[])[1];return t&&"notreachable"!==t.toLowerCase()||(t="unknown"),{page_name:e||"msite",network:t.toLowerCase(),os:/iPhone|iPad|iPod|iOS/i.test(r)?"ios":"android"}},i={dns_time:["domainLookupStart","domainLookupEnd"],tcp_time:["connectStart","connectEnd"],byte_time:["navigationStart","responseStart"],req_time:["requestStart","responseStart"],res_time:["responseStart","responseEnd"],dom_time:["responseEnd","domComplete"],load_time:["navigationStart","loadEventEnd"],load_e_time:["loadEventStart","loadEventEnd"],redirect_time:["redirectStart","redirectEnd"]};function s(){const e={},t=performance.timing;return Object.keys(i).forEach(n=>{const[r,o]=i[n];e[n]=t[o]-t[r],e[n]<0&&(e[n]=0)}),e}function c(e){const t=`${o}?${window.Utils.paramToString(e)}`;(new Image).src=t}function l(){c(babelHelpers.extends({},s(),a()))}t.a=(()=>{window.performance&&window.addEventListener("load",()=>setTimeout(l))});t.b=(e=>{if(window.AlipayH5Performance&&window.AlipayH5Performance.reportBizReady&&window.AlipayH5Performance.reportBizReady(),!window.performance)return;const t=performance.timing.navigationStart,n=Date.now(),r=babelHelpers.extends({},a(),{biz_time:n-t});r.biz_time>6e4||(c(r),e&&"function"==typeof e&&e(babelHelpers.extends({},s(),r)))})},60:function(e,t){e.exports=Vue}});